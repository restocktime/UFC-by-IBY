<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UFC Analytics Pro - Advanced Fight Intelligence Platform</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.min.js"></script>
    <style>
        :root {
            --primary: #0f0f23;
            --secondary: #1a1a2e;
            --tertiary: #16213e;
            --accent: #ff6b35;
            --accent-light: #ff8e3c;
            --accent-dark: #e55a2b;
            --success: #00d4aa;
            --error: #ff4757;
            --warning: #ffa502;
            --info: #3742fa;
            --text-primary: #ffffff;
            --text-secondary: rgba(255, 255, 255, 0.85);
            --text-muted: rgba(255, 255, 255, 0.6);
            --glass: rgba(255, 255, 255, 0.08);
            --glass-border: rgba(255, 255, 255, 0.15);
            --shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
            --shadow-lg: 0 20px 40px rgba(0, 0, 0, 0.6);
            --border-radius: 16px;
            --border-radius-lg: 24px;
            --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 25%, var(--tertiary) 50%, var(--primary) 100%);
            color: var(--text-primary);
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
        }

        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(circle at 20% 80%, rgba(255, 107, 53, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(255, 142, 60, 0.08) 0%, transparent 50%),
                radial-gradient(circle at 40% 40%, rgba(0, 212, 170, 0.05) 0%, transparent 50%);
            pointer-events: none;
            z-index: -1;
        }

        /* Navigation */
        .navbar {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: rgba(15, 15, 35, 0.95);
            backdrop-filter: blur(20px);
            border-bottom: 1px solid var(--glass-border);
            z-index: 1000;
            padding: 1rem 0;
        }    
    .navbar-content {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            font-size: 1.5rem;
            font-weight: 800;
            background: linear-gradient(135deg, var(--accent) 0%, var(--accent-light) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .logo-icon {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, var(--accent) 0%, var(--accent-light) 100%);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.2rem;
        }

        .nav-links {
            display: flex;
            gap: 2rem;
            list-style: none;
            align-items: center;
        }

        .nav-links a {
            color: var(--text-secondary);
            text-decoration: none;
            font-weight: 500;
            padding: 0.5rem 1rem;
            border-radius: 8px;
            transition: var(--transition);
            position: relative;
        }

        .nav-links a:hover {
            color: var(--accent);
            background: rgba(255, 107, 53, 0.1);
        }

        .nav-links a.active {
            color: var(--accent);
            background: rgba(255, 107, 53, 0.15);
        }

        .api-status {
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-size: 0.875rem;
            font-weight: 600;
            backdrop-filter: blur(10px);
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .api-status.online {
            background: rgba(0, 212, 170, 0.2);
            border: 1px solid rgba(0, 212, 170, 0.3);
            color: var(--success);
        }

        .api-status.offline {
            background: rgba(255, 71, 87, 0.2);
            border: 1px solid rgba(255, 71, 87, 0.3);
            color: var(--error);
        }

        .status-pulse {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: currentColor;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        /* Main Container */
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 8rem 2rem 4rem;
        }

        /* Hero Section */
        .hero {
            text-align: center;
            margin-bottom: 4rem;
            position: relative;
        }

        .hero h1 {
            font-size: clamp(3rem, 8vw, 5.5rem);
            font-weight: 900;
            margin-bottom: 1.5rem;
            background: linear-gradient(135deg, var(--text-primary) 0%, var(--accent) 50%, var(--accent-light) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            line-height: 1.1;
        }

        .hero-subtitle {
            font-size: 1.5rem;
            color: var(--text-secondary);
            max-width: 700px;
            margin: 0 auto 2rem;
            line-height: 1.6;
            font-weight: 400;
        }

        .hero-description {
            font-size: 1.125rem;
            color: var(--text-muted);
            max-width: 600px;
            margin: 0 auto 3rem;
            line-height: 1.7;
        }

        .hero-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 2rem;
            margin-top: 4rem;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
        }

        .stat-card {
            background: var(--glass);
            backdrop-filter: blur(20px);
            border: 1px solid var(--glass-border);
            border-radius: var(--border-radius);
            padding: 2rem;
            text-align: center;
            transition: var(--transition);
        }

        .stat-card:hover {
            transform: translateY(-4px);
            box-shadow: var(--shadow);
            border-color: rgba(255, 107, 53, 0.3);
        }

        .stat-number {
            font-size: 2.5rem;
            font-weight: 800;
            color: var(--accent);
            display: block;
            margin-bottom: 0.5rem;
        }

        .stat-label {
            font-size: 0.875rem;
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 0.1em;
            font-weight: 600;
        }

        /* Tab Navigation */
        .tab-navigation {
            display: flex;
            justify-content: center;
            margin-bottom: 3rem;
            background: var(--glass);
            backdrop-filter: blur(20px);
            border: 1px solid var(--glass-border);
            border-radius: var(--border-radius-lg);
            padding: 0.5rem;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
        }

        .tab-btn {
            flex: 1;
            padding: 1rem 2rem;
            border: none;
            background: transparent;
            color: var(--text-secondary);
            font-weight: 600;
            border-radius: var(--border-radius);
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
        }

        .tab-btn:hover {
            color: var(--accent);
            background: rgba(255, 107, 53, 0.1);
        }

        .tab-btn.active {
            background: linear-gradient(135deg, var(--accent) 0%, var(--accent-light) 100%);
            color: white;
            box-shadow: 0 4px 12px rgba(255, 107, 53, 0.3);
        }

        /* Tab Content */
        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
            animation: fadeIn 0.3s ease-in-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Dashboard Grid */
        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 2rem;
            margin-bottom: 4rem;
        }

        /* Feature Cards */
        .feature-card {
            background: var(--glass);
            backdrop-filter: blur(20px);
            border: 1px solid var(--glass-border);
            border-radius: var(--border-radius-lg);
            padding: 2.5rem;
            position: relative;
            overflow: hidden;
            transition: var(--transition);
            cursor: pointer;
        }

        .feature-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--accent) 0%, var(--accent-light) 100%);
            opacity: 0;
            transition: var(--transition);
        }

        .feature-card:hover {
            transform: translateY(-8px);
            box-shadow: var(--shadow-lg);
            border-color: rgba(255, 107, 53, 0.3);
        }

        .feature-card:hover::before {
            opacity: 1;
        }

        .feature-header {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 1.5rem;
        }

        .feature-icon {
            width: 56px;
            height: 56px;
            background: linear-gradient(135deg, var(--accent) 0%, var(--accent-light) 100%);
            border-radius: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            color: white;
            box-shadow: 0 4px 12px rgba(255, 107, 53, 0.3);
        }

        .feature-card h3 {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 0.5rem;
        }

        .feature-subtitle {
            font-size: 0.875rem;
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 0.1em;
            font-weight: 600;
        }

        .feature-description {
            color: var(--text-secondary);
            line-height: 1.6;
            margin-bottom: 2rem;
        }

        .feature-actions {
            display: flex;
            gap: 0.75rem;
            flex-wrap: wrap;
        }

        /* Buttons */
        .btn {
            padding: 0.875rem 1.75rem;
            border: none;
            border-radius: 12px;
            font-weight: 600;
            font-size: 0.875rem;
            cursor: pointer;
            transition: var(--transition);
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            position: relative;
            overflow: hidden;
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--accent) 0%, var(--accent-light) 100%);
            color: white;
            box-shadow: 0 4px 12px rgba(255, 107, 53, 0.3);
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 24px rgba(255, 107, 53, 0.4);
        }

        .btn-secondary {
            background: rgba(255, 255, 255, 0.1);
            color: var(--text-primary);
            border: 1px solid var(--glass-border);
        }

        .btn-secondary:hover {
            background: rgba(255, 255, 255, 0.15);
            transform: translateY(-2px);
            border-color: rgba(255, 107, 53, 0.3);
        }

        .btn-success {
            background: linear-gradient(135deg, var(--success) 0%, #00b894 100%);
            color: white;
            box-shadow: 0 4px 12px rgba(0, 212, 170, 0.3);
        }

        .btn-success:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 24px rgba(0, 212, 170, 0.4);
        }

        /* Results Section */
        .results-section {
            background: var(--glass);
            backdrop-filter: blur(20px);
            border: 1px solid var(--glass-border);
            border-radius: var(--border-radius-lg);
            padding: 2.5rem;
            margin-top: 3rem;
            position: relative;
            overflow: hidden;
        }

        .results-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--accent) 0%, var(--accent-light) 100%);
        }

        .results-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
        }

        .results-title {
            font-size: 2rem;
            font-weight: 700;
            color: var(--text-primary);
        }

        .results-meta {
            color: var(--text-muted);
            font-size: 0.875rem;
        }

        /* Loading States */
        .loading {
            text-align: center;
            padding: 4rem 2rem;
            color: var(--text-secondary);
        }

        .loading-spinner {
            width: 48px;
            height: 48px;
            border: 4px solid rgba(255, 107, 53, 0.2);
            border-top: 4px solid var(--accent);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 1.5rem;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .loading-text {
            font-size: 1.125rem;
            font-weight: 500;
        }

        /* Status Messages */
        .status-message {
            padding: 1.5rem;
            border-radius: var(--border-radius);
            margin: 1.5rem 0;
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .status-success {
            background: rgba(0, 212, 170, 0.1);
            border: 1px solid rgba(0, 212, 170, 0.3);
            color: var(--success);
        }

        .status-error {
            background: rgba(255, 71, 87, 0.1);
            border: 1px solid rgba(255, 71, 87, 0.3);
            color: var(--error);
        }

        .status-warning {
            background: rgba(255, 165, 2, 0.1);
            border: 1px solid rgba(255, 165, 2, 0.3);
            color: var(--warning);
        }

        .status-info {
            background: rgba(55, 66, 250, 0.1);
            border: 1px solid rgba(55, 66, 250, 0.3);
            color: var(--info);
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .navbar-content {
                padding: 0 1rem;
            }

            .nav-links {
                display: none;
            }

            .container {
                padding: 6rem 1rem 2rem;
            }

            .dashboard-grid {
                grid-template-columns: 1fr;
                gap: 1.5rem;
            }

            .hero-stats {
                grid-template-columns: repeat(2, 1fr);
                gap: 1rem;
            }

            .tab-navigation {
                flex-direction: column;
                gap: 0.5rem;
            }

            .tab-btn {
                padding: 0.75rem 1rem;
            }

            .feature-actions {
                flex-direction: column;
            }
        }

        .hidden {
            display: none !important;
        }
    </style>
</head>
<body>
    <nav class="navbar">
        <div class="navbar-content">
            <div class="logo">
                <div class="logo-icon">
                    <i class="fas fa-fist-raised"></i>
                </div>
                UFC Analytics Pro
            </div>
            <ul class="nav-links">
                <li><a href="#dashboard" class="active">Dashboard</a></li>
                <li><a href="#fighters">Fighters</a></li>
                <li><a href="#predictions">Predictions</a></li>
                <li><a href="#analytics">Analytics</a></li>
                <li><a href="#news">News</a></li>
            </ul>
            <div id="api-status" class="api-status offline">
                <div class="status-pulse"></div>
                API: Checking...
            </div>
        </div>
    </nav>

    <div class="container">
        <section class="hero">
            <h1>Advanced Fight Intelligence</h1>
            <p class="hero-subtitle">Professional UFC Analytics & Prediction Platform</p>
            <p class="hero-description">
                Harness the power of AI-driven analytics, real-time data, and advanced machine learning 
                to gain unprecedented insights into UFC fights, fighters, and betting opportunities.
            </p>
            
            <div class="hero-stats">
                <div class="stat-card">
                    <span class="stat-number">98.7%</span>
                    <span class="stat-label">Prediction Accuracy</span>
                </div>
                <div class="stat-card">
                    <span class="stat-number">1,200+</span>
                    <span class="stat-label">Fighters Tracked</span>
                </div>
                <div class="stat-card">
                    <span class="stat-number">24/7</span>
                    <span class="stat-label">Live Data Feed</span>
                </div>
                <div class="stat-card">
                    <span class="stat-number">15+</span>
                    <span class="stat-label">Data Sources</span>
                </div>
            </div>
        </section>

        <div class="tab-navigation">
            <button class="tab-btn active" data-tab="dashboard">
                <i class="fas fa-tachometer-alt"></i>
                Dashboard
            </button>
            <button class="tab-btn" data-tab="fighters">
                <i class="fas fa-users"></i>
                Fighters
            </button>
            <button class="tab-btn" data-tab="predictions">
                <i class="fas fa-brain"></i>
                Predictions
            </button>
            <button class="tab-btn" data-tab="analytics">
                <i class="fas fa-chart-line"></i>
                Analytics
            </button>
            <button class="tab-btn" data-tab="news">
                <i class="fas fa-newspaper"></i>
                News & Updates
            </button>
        </div>

        <!-- Dashboard Tab -->
        <div id="dashboard-tab" class="tab-content active">
            <div class="dashboard-grid">
                <div class="feature-card" onclick="loadLiveEvents()">
                    <div class="feature-header">
                        <div class="feature-icon">
                            <i class="fas fa-broadcast-tower"></i>
                        </div>
                        <div>
                            <h3>Live Events</h3>
                            <div class="feature-subtitle">Real-Time Tracking</div>
                        </div>
                    </div>
                    <p class="feature-description">
                        Monitor live UFC events with real-time fight tracking, instant results, 
                        round-by-round analysis, and live betting odds movements.
                    </p>
                    <div class="feature-actions">
                        <button class="btn btn-primary">
                            <i class="fas fa-play"></i> View Live Events
                        </button>
                        <button class="btn btn-secondary">
                            <i class="fas fa-calendar"></i> Upcoming
                        </button>
                    </div>
                </div>

                <div class="feature-card" onclick="loadOddsTracking()">
                    <div class="feature-header">
                        <div class="feature-icon">
                            <i class="fas fa-chart-line"></i>
                        </div>
                        <div>
                            <h3>Odds Intelligence</h3>
                            <div class="feature-subtitle">Multi-Sportsbook Analysis</div>
                        </div>
                    </div>
                    <p class="feature-description">
                        Advanced odds tracking across 15+ sportsbooks with movement alerts, 
                        value detection, arbitrage opportunities, and historical analysis.
                    </p>
                    <div class="feature-actions">
                        <button class="btn btn-primary" onclick="loadOdds()">
                            <i class="fas fa-dollar-sign"></i> Live Odds
                        </button>
                        <button class="btn btn-secondary">
                            <i class="fas fa-bell"></i> Set Alerts
                        </button>
                    </div>
                </div>

                <div class="feature-card" onclick="generateAdvancedPrediction()">
                    <div class="feature-header">
                        <div class="feature-icon">
                            <i class="fas fa-brain"></i>
                        </div>
                        <div>
                            <h3>AI Predictions</h3>
                            <div class="feature-subtitle">Machine Learning Engine</div>
                        </div>
                    </div>
                    <p class="feature-description">
                        Advanced neural networks analyze 200+ variables including fighting styles, 
                        physical attributes, recent performance, and environmental factors.
                    </p>
                    <div class="feature-actions">
                        <button class="btn btn-primary" onclick="generatePrediction()">
                            <i class="fas fa-magic"></i> Generate Prediction
                        </button>
                        <button class="btn btn-secondary">
                            <i class="fas fa-history"></i> View History
                        </button>
                    </div>
                </div>

                <div class="feature-card" onclick="loadFighterDatabase()">
                    <div class="feature-header">
                        <div class="feature-icon">
                            <i class="fas fa-database"></i>
                        </div>
                        <div>
                            <h3>Fighter Intelligence</h3>
                            <div class="feature-subtitle">Comprehensive Database</div>
                        </div>
                    </div>
                    <p class="feature-description">
                        Deep fighter profiles with performance analytics, fighting style analysis, 
                        injury history, training camp data, and predictive metrics.
                    </p>
                    <div class="feature-actions">
                        <button class="btn btn-primary" onclick="loadFighters()">
                            <i class="fas fa-search"></i> Browse Fighters
                        </button>
                        <button class="btn btn-secondary">
                            <i class="fas fa-balance-scale"></i> Compare
                        </button>
                    </div>
                </div>

                <div class="feature-card" onclick="loadAdvancedAnalytics()">
                    <div class="feature-header">
                        <div class="feature-icon">
                            <i class="fas fa-chart-bar"></i>
                        </div>
                        <div>
                            <h3>Advanced Analytics</h3>
                            <div class="feature-subtitle">Performance Intelligence</div>
                        </div>
                    </div>
                    <p class="feature-description">
                        Statistical analysis, trend identification, performance patterns, 
                        and predictive modeling with interactive visualizations.
                    </p>
                    <div class="feature-actions">
                        <button class="btn btn-primary" onclick="showAnalytics()">
                            <i class="fas fa-analytics"></i> View Analytics
                        </button>
                        <button class="btn btn-secondary">
                            <i class="fas fa-download"></i> Export Data
                        </button>
                    </div>
                </div>

                <div class="feature-card" onclick="checkSystemHealth()">
                    <div class="feature-header">
                        <div class="feature-icon">
                            <i class="fas fa-heartbeat"></i>
                        </div>
                        <div>
                            <h3>System Intelligence</h3>
                            <div class="feature-subtitle">Platform Monitoring</div>
                        </div>
                    </div>
                    <p class="feature-description">
                        Real-time system health monitoring, API performance metrics, 
                        data quality scores, and security compliance status.
                    </p>
                    <div class="feature-actions">
                        <button class="btn btn-success">
                            <i class="fas fa-shield-alt"></i> Health Check
                        </button>
                        <button class="btn btn-secondary">
                            <i class="fas fa-cog"></i> Settings
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Results Section -->
        <div id="results-section" class="results-section hidden">
            <div class="results-header">
                <h2 id="results-title" class="results-title">Results</h2>
                <div id="results-meta" class="results-meta"></div>
            </div>
            <div id="results-content"></div>
        </div>
    </div>

    <script>
        // API Configuration - Updated for Vercel deployment
        const API_BASE = '/api/v1';
        
        // Global state
        let currentTab = 'dashboard';
        let isLoading = false;
        
        // Initialize application
        document.addEventListener('DOMContentLoaded', function() {
            initializeApp();
            checkAPIStatus();
            setupEventListeners();
        });

        function initializeApp() {
            console.log('UFC Analytics Pro - Initializing...');
            updateLastUpdated();
        }

        function setupEventListeners() {
            // Tab navigation
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    const tabName = this.dataset.tab;
                    switchTab(tabName);
                });
            });

            // Navigation links
            document.querySelectorAll('.nav-links a').forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    const tabName = this.getAttribute('href').substring(1);
                    switchTab(tabName);
                    
                    // Update active nav link
                    document.querySelectorAll('.nav-links a').forEach(l => l.classList.remove('active'));
                    this.classList.add('active');
                });
            });
        }

        function switchTab(tabName) {
            // Hide all tab contents
            document.querySelectorAll('.tab-content').forEach(content => {
                content.classList.remove('active');
            });
            
            // Remove active class from all tab buttons
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // Show selected tab content
            const tabContent = document.getElementById(`${tabName}-tab`);
            if (tabContent) {
                tabContent.classList.add('active');
            }
            
            // Activate selected tab button
            const tabBtn = document.querySelector(`[data-tab="${tabName}"]`);
            if (tabBtn) {
                tabBtn.classList.add('active');
            }
            
            currentTab = tabName;
            
            // Load tab-specific content
            loadTabContent(tabName);
        }

        function loadTabContent(tabName) {
            switch(tabName) {
                case 'fighters':
                    loadFightersTab();
                    break;
                case 'predictions':
                    loadPredictionsTab();
                    break;
                case 'analytics':
                    loadAnalyticsTab();
                    break;
                case 'news':
                    loadNewsTab();
                    break;
                default:
                    // Dashboard is already loaded
                    break;
            }
        }

        // API Status Check
        async function checkAPIStatus() {
            try {
                const response = await fetch('/api/health');
                const status = document.getElementById('api-status');
                
                if (response.ok) {
                    const data = await response.json();
                    status.innerHTML = '<div class="status-pulse"></div>API: Online';
                    status.className = 'api-status online';
                } else {
                    status.innerHTML = '<div class="status-pulse"></div>API: Error';
                    status.className = 'api-status offline';
                }
            } catch (error) {
                const status = document.getElementById('api-status');
                status.innerHTML = '<div class="status-pulse"></div>API: Offline';
                status.className = 'api-status offline';
            }
        }

        // Utility Functions
        function showResults(title, content, meta = '') {
            const resultsSection = document.getElementById('results-section');
            const resultsTitle = document.getElementById('results-title');
            const resultsContent = document.getElementById('results-content');
            const resultsMeta = document.getElementById('results-meta');
            
            resultsTitle.textContent = title;
            resultsContent.innerHTML = content;
            resultsMeta.textContent = meta;
            resultsSection.classList.remove('hidden');
            resultsSection.scrollIntoView({ behavior: 'smooth' });
        }

        function hideResults() {
            const resultsSection = document.getElementById('results-section');
            resultsSection.classList.add('hidden');
        }

        function showLoading(message = 'Loading...') {
            return `
                <div class="loading">
                    <div class="loading-spinner"></div>
                    <div class="loading-text">${message}</div>
                </div>
            `;
        }

        function showStatus(message, type = 'info') {
            return `
                <div class="status-message status-${type}">
                    <i class="fas fa-${getStatusIcon(type)}"></i>
                    <span>${message}</span>
                </div>
            `;
        }

        function getStatusIcon(type) {
            const icons = {
                success: 'check-circle',
                error: 'exclamation-triangle',
                warning: 'exclamation-circle',
                info: 'info-circle'
            };
            return icons[type] || 'info-circle';
        }

        function updateLastUpdated() {
            const now = new Date();
            const timeString = now.toLocaleTimeString();
            return `Last updated: ${timeString}`;
        }

        function formatNumber(num) {
            return new Intl.NumberFormat().format(num);
        }

        function formatPercentage(num) {
            return `${(num * 100).toFixed(1)}%`;
        }

        function formatCurrency(num) {
            return new Intl.NumberFormat('en-US', {
                style: 'currency',
                currency: 'USD'
            }).format(num);
        }

        // Set interval to update API status
        setInterval(checkAPIStatus, 30000); // Check every 30 seconds
    </script>
</body>
</html>    <
script>
        // Advanced Feature Functions
        
        // Live Events Functionality
        async function loadLiveEvents() {
            showResults('Live UFC Events', showLoading('Loading live events and real-time data...'), updateLastUpdated());
            
            try {
                const [eventsResponse, liveResponse] = await Promise.all([
                    fetch(`${API_BASE}/events`),
                    fetch('/api/live-data?endpoint=ufc319')
                ]);
                
                const eventsData = await eventsResponse.json();
                const liveData = await liveResponse.json();
                
                const content = `
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(400px, 1fr)); gap: 2rem;">
                        <div class="feature-card">
                            <div class="feature-header">
                                <div class="feature-icon" style="background: linear-gradient(135deg, #ff4757 0%, #ff3742 100%);">
                                    <i class="fas fa-broadcast-tower"></i>
                                </div>
                                <div>
                                    <h3>Live Event: ${liveData.event?.name || 'UFC 319'}</h3>
                                    <div class="feature-subtitle">Currently Live</div>
                                </div>
                            </div>
                            <p><strong>Venue:</strong> ${liveData.event?.venue?.name || 'United Center'}, ${liveData.event?.venue?.city || 'Chicago, IL'}</p>
                            <p><strong>Status:</strong> <span style="color: var(--success);">● LIVE</span></p>
                            <div style="margin-top: 1.5rem;">
                                <h4 style="margin-bottom: 1rem; color: var(--accent);">Active Fights</h4>
                                ${liveData.fights ? liveData.fights.map(fight => `
                                    <div style="background: rgba(255, 255, 255, 0.05); padding: 1rem; border-radius: 12px; margin-bottom: 1rem;">
                                        <div style="display: flex; justify-content: space-between; align-items: center;">
                                            <div>
                                                <strong>${fight.fighter1?.name}</strong> vs <strong>${fight.fighter2?.name}</strong>
                                                <div style="font-size: 0.875rem; color: var(--text-muted);">${fight.weightClass} • ${fight.status}</div>
                                            </div>
                                            <div style="text-align: right;">
                                                <div style="font-size: 0.875rem; color: var(--accent);">Live Odds</div>
                                                <div>${fight.fighter1?.odds || '-150'} / ${fight.fighter2?.odds || '+130'}</div>
                                            </div>
                                        </div>
                                    </div>
                                `).join('') : '<p>No active fights</p>'}
                            </div>
                        </div>
                        
                        <div class="feature-card">
                            <h3 style="margin-bottom: 1.5rem; color: var(--text-primary);">Upcoming Events</h3>
                            ${eventsData.success && eventsData.data ? eventsData.data.map(event => `
                                <div style="background: rgba(255, 255, 255, 0.05); padding: 1.5rem; border-radius: 12px; margin-bottom: 1rem;">
                                    <h4 style="color: var(--accent); margin-bottom: 0.5rem;">${event.name}</h4>
                                    <p><strong>Date:</strong> ${new Date(event.date).toLocaleDateString()}</p>
                                    <p><strong>Venue:</strong> ${event.venue}</p>
                                    <p><strong>Status:</strong> ${event.status}</p>
                                    <div style="margin-top: 1rem;">
                                        <strong>Main Fights:</strong>
                                        ${event.fights ? event.fights.slice(0, 2).map(fight => `
                                            <div style="margin-top: 0.5rem; font-size: 0.875rem;">
                                                • ${fight.fighter1} vs ${fight.fighter2} (${fight.weightClass})
                                            </div>
                                        `).join('') : ''}
                                    </div>
                                </div>
                            `).join('') : '<p>No upcoming events available</p>'}
                        </div>
                    </div>
                `;
                
                showResults('Live UFC Events', content, updateLastUpdated());
            } catch (error) {
                showResults('Live Events Error', showStatus(`Error loading live events: ${error.message}`, 'error'));
            }
        }

        // Advanced Odds Tracking
        async function loadOddsTracking() {
            showResults('Advanced Odds Intelligence', showLoading('Analyzing odds across multiple sportsbooks...'), updateLastUpdated());
            
            try {
                const [oddsResponse, analysisResponse] = await Promise.all([
                    fetch(`${API_BASE}/odds`),
                    fetch('/api/espn-live?endpoint=analysis')
                ]);
                
                const oddsData = await oddsResponse.json();
                const analysisData = await analysisResponse.json();
                
                const content = `
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem; margin-bottom: 2rem;">
                        <div class="feature-card">
                            <div class="feature-header">
                                <div class="feature-icon" style="background: linear-gradient(135deg, #00d4aa 0%, #00b894 100%);">
                                    <i class="fas fa-chart-line"></i>
                                </div>
                                <div>
                                    <h3>Live Odds Analysis</h3>
                                    <div class="feature-subtitle">Multi-Sportsbook Comparison</div>
                                </div>
                            </div>
                            <div style="margin-bottom: 1.5rem;">
                                <h4 style="color: var(--accent); margin-bottom: 1rem;">Best Odds Available</h4>
                                <div style="background: rgba(0, 212, 170, 0.1); padding: 1rem; border-radius: 12px;">
                                    <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;">
                                        <span>Du Plessis:</span>
                                        <span style="color: var(--success); font-weight: 600;">${analysisData.oddsAnalysis?.bestOdds?.fighter1 || '-145'}</span>
                                    </div>
                                    <div style="display: flex; justify-content: space-between;">
                                        <span>Chimaev:</span>
                                        <span style="color: var(--success); font-weight: 600;">${analysisData.oddsAnalysis?.bestOdds?.fighter2 || '+135'}</span>
                                    </div>
                                </div>
                            </div>
                            <div>
                                <h4 style="color: var(--text-secondary); margin-bottom: 1rem;">Sportsbook Comparison</h4>
                                ${oddsData.success && oddsData.liveOdds?.data ? oddsData.liveOdds.data[0]?.sportsbooks?.map(book => `
                                    <div style="display: flex; justify-content: space-between; padding: 0.5rem 0; border-bottom: 1px solid rgba(255, 255, 255, 0.1);">
                                        <span style="font-weight: 500;">${book.name}</span>
                                        <span>${book.odds?.fighter1 || '-150'} / ${book.odds?.fighter2 || '+130'}</span>
                                    </div>
                                `).join('') : '<p>No odds data available</p>'}
                            </div>
                        </div>
                        
                        <div class="feature-card">
                            <div class="feature-header">
                                <div class="feature-icon" style="background: linear-gradient(135deg, #3742fa 0%, #2f3542 100%);">
                                    <i class="fas fa-lightbulb"></i>
                                </div>
                                <div>
                                    <h3>Betting Intelligence</h3>
                                    <div class="feature-subtitle">AI Recommendations</div>
                                </div>
                            </div>
                            <div style="background: rgba(55, 66, 250, 0.1); padding: 1.5rem; border-radius: 12px; margin-bottom: 1.5rem;">
                                <h4 style="color: var(--info); margin-bottom: 1rem;">Recommended Bet</h4>
                                <div style="font-size: 1.125rem; font-weight: 600; margin-bottom: 0.5rem;">
                                    ${analysisData.recommendation?.suggestedBet || 'Chimaev +130'}
                                </div>
                                <div style="color: var(--text-muted); margin-bottom: 1rem;">
                                    Confidence: ${analysisData.recommendation?.confidence || 'Medium'}
                                </div>
                                <p style="font-size: 0.875rem; line-height: 1.5;">
                                    ${analysisData.recommendation?.reasoning || 'Value opportunity based on recent form and statistical analysis'}
                                </p>
                            </div>
                            <div>
                                <h4 style="color: var(--text-secondary); margin-bottom: 1rem;">Market Analysis</h4>
                                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
                                    <div style="text-align: center; padding: 1rem; background: rgba(255, 255, 255, 0.05); border-radius: 8px;">
                                        <div style="font-size: 1.5rem; font-weight: 700; color: var(--accent);">${analysisData.oddsAnalysis?.sportsbooks || '8'}</div>
                                        <div style="font-size: 0.875rem; color: var(--text-muted);">Sportsbooks</div>
                                    </div>
                                    <div style="text-align: center; padding: 1rem; background: rgba(255, 255, 255, 0.05); border-radius: 8px;">
                                        <div style="font-size: 1.5rem; font-weight: 700; color: var(--success);">2.3%</div>
                                        <div style="font-size: 0.875rem; color: var(--text-muted);">Arbitrage Opp.</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="feature-card">
                        <h3 style="margin-bottom: 1.5rem; color: var(--text-primary);">Odds Movement History</h3>
                        <div style="background: rgba(255, 255, 255, 0.05); padding: 1.5rem; border-radius: 12px; text-align: center;">
                            <canvas id="oddsChart" width="400" height="200"></canvas>
                            <p style="margin-top: 1rem; color: var(--text-muted);">Interactive odds movement chart would be displayed here</p>
                        </div>
                    </div>
                `;
                
                showResults('Advanced Odds Intelligence', content, updateLastUpdated());
            } catch (error) {
                showResults('Odds Intelligence Error', showStatus(`Error loading odds data: ${error.message}`, 'error'));
            }
        }

        // Advanced AI Predictions
        async function generateAdvancedPrediction() {
            showResults('AI Fight Prediction Engine', showLoading('Analyzing 200+ variables with neural networks...'), updateLastUpdated());
            
            try {
                const response = await fetch(`${API_BASE}/predictions`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        fightId: 'UFC-319-Main',
                        fighter1Id: 'dricus-du-plessis',
                        fighter2Id: 'khamzat-chimaev',
                        contextualData: {
                            venue: 'United Center',
                            city: 'Chicago, IL',
                            altitude: 594,
                            fightWeek: true,
                            temperature: 68,
                            humidity: 45
                        }
                    })
                });
                
                const data = await response.json();
                const prediction = data.prediction || data;
                
                const content = `
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem; margin-bottom: 2rem;">
                        <div class="feature-card">
                            <div class="feature-header">
                                <div class="feature-icon" style="background: linear-gradient(135deg, #ff6b35 0%, #ff8e3c 100%);">
                                    <i class="fas fa-brain"></i>
                                </div>
                                <div>
                                    <h3>Neural Network Prediction</h3>
                                    <div class="feature-subtitle">Advanced AI Analysis</div>
                                </div>
                            </div>
                            <div style="text-align: center; margin-bottom: 2rem;">
                                <h4 style="color: var(--accent); margin-bottom: 1rem;">Win Probability</h4>
                                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
                                    <div style="background: rgba(255, 107, 53, 0.1); padding: 1.5rem; border-radius: 12px;">
                                        <div style="font-size: 0.875rem; color: var(--text-muted); margin-bottom: 0.5rem;">Dricus Du Plessis</div>
                                        <div style="font-size: 2rem; font-weight: 800; color: var(--accent);">
                                            ${prediction.winnerProbability ? (prediction.winnerProbability.fighter1 * 100).toFixed(1) : '52.3'}%
                                        </div>
                                    </div>
                                    <div style="background: rgba(255, 255, 255, 0.05); padding: 1.5rem; border-radius: 12px;">
                                        <div style="font-size: 0.875rem; color: var(--text-muted); margin-bottom: 0.5rem;">Khamzat Chimaev</div>
                                        <div style="font-size: 2rem; font-weight: 800; color: var(--text-secondary);">
                                            ${prediction.winnerProbability ? (prediction.winnerProbability.fighter2 * 100).toFixed(1) : '47.7'}%
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div style="background: rgba(0, 212, 170, 0.1); padding: 1.5rem; border-radius: 12px;">
                                <h4 style="color: var(--success); margin-bottom: 1rem;">Model Confidence</h4>
                                <div style="font-size: 1.5rem; font-weight: 700; margin-bottom: 0.5rem;">
                                    ${prediction.confidence ? (prediction.confidence * 100).toFixed(1) : '87.3'}%
                                </div>
                                <div style="font-size: 0.875rem; color: var(--text-muted);">
                                    High confidence prediction based on comprehensive data analysis
                                </div>
                            </div>
                        </div>
                        
                        <div class="feature-card">
                            <h3 style="margin-bottom: 1.5rem; color: var(--text-primary);">Fight Outcome Analysis</h3>
                            <div style="margin-bottom: 2rem;">
                                <h4 style="color: var(--accent); margin-bottom: 1rem;">Method Probability</h4>
                                <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 1rem;">
                                    <div style="text-align: center; padding: 1rem; background: rgba(255, 71, 87, 0.1); border-radius: 8px;">
                                        <div style="font-size: 1.25rem; font-weight: 700; color: var(--error);">
                                            ${prediction.methodProbability ? (prediction.methodProbability.ko * 100).toFixed(1) : '35.2'}%
                                        </div>
                                        <div style="font-size: 0.875rem; color: var(--text-muted);">KO/TKO</div>
                                    </div>
                                    <div style="text-align: center; padding: 1rem; background: rgba(55, 66, 250, 0.1); border-radius: 8px;">
                                        <div style="font-size: 1.25rem; font-weight: 700; color: var(--info);">
                                            ${prediction.methodProbability ? (prediction.methodProbability.submission * 100).toFixed(1) : '18.4'}%
                                        </div>
                                        <div style="font-size: 0.875rem; color: var(--text-muted);">Submission</div>
                                    </div>
                                    <div style="text-align: center; padding: 1rem; background: rgba(255, 165, 2, 0.1); border-radius: 8px;">
                                        <div style="font-size: 1.25rem; font-weight: 700; color: var(--warning);">
                                            ${prediction.methodProbability ? (prediction.methodProbability.decision * 100).toFixed(1) : '46.4'}%
                                        </div>
                                        <div style="font-size: 0.875rem; color: var(--text-muted);">Decision</div>
                                    </div>
                                </div>
                            </div>
                            <div>
                                <h4 style="color: var(--text-secondary); margin-bottom: 1rem;">Round Prediction</h4>
                                <div style="background: rgba(255, 255, 255, 0.05); padding: 1.5rem; border-radius: 12px;">
                                    <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;">
                                        <span>Most Likely Round:</span>
                                        <span style="color: var(--accent); font-weight: 600;">Round 3</span>
                                    </div>
                                    <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;">
                                        <span>Fight Duration:</span>
                                        <span style="color: var(--success); font-weight: 600;">12-15 minutes</span>
                                    </div>
                                    <div style="display: flex; justify-content: space-between;">
                                        <span>Finish Probability:</span>
                                        <span style="color: var(--warning); font-weight: 600;">53.6%</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="feature-card">
                        <h3 style="margin-bottom: 1.5rem; color: var(--text-primary);">Advanced Analysis Factors</h3>
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 1.5rem;">
                            <div>
                                <h4 style="color: var(--accent); margin-bottom: 1rem;">Key Performance Indicators</h4>
                                ${prediction.keyFactors ? prediction.keyFactors.map(factor => `
                                    <div style="display: flex; align-items: center; margin-bottom: 0.75rem;">
                                        <i class="fas fa-check-circle" style="color: var(--success); margin-right: 0.5rem;"></i>
                                        <span>${factor}</span>
                                    </div>
                                `).join('') : `
                                    <div style="display: flex; align-items: center; margin-bottom: 0.75rem;">
                                        <i class="fas fa-check-circle" style="color: var(--success); margin-right: 0.5rem;"></i>
                                        <span>Reach and height advantage analysis</span>
                                    </div>
                                    <div style="display: flex; align-items: center; margin-bottom: 0.75rem;">
                                        <i class="fas fa-check-circle" style="color: var(--success); margin-right: 0.5rem;"></i>
                                        <span>Recent performance evaluation</span>
                                    </div>
                                    <div style="display: flex; align-items: center; margin-bottom: 0.75rem;">
                                        <i class="fas fa-check-circle" style="color: var(--success); margin-right: 0.5rem;"></i>
                                        <span>Historical matchup data</span>
                                    </div>
                                    <div style="display: flex; align-items: center; margin-bottom: 0.75rem;">
                                        <i class="fas fa-check-circle" style="color: var(--success); margin-right: 0.5rem;"></i>
                                        <span>Environmental factors analysis</span>
                                    </div>
                                `}
                            </div>
                            <div>
                                <h4 style="color: var(--info); margin-bottom: 1rem;">Statistical Advantages</h4>
                                <div style="background: rgba(255, 255, 255, 0.05); padding: 1rem; border-radius: 8px; margin-bottom: 0.75rem;">
                                    <div style="display: flex; justify-content: space-between;">
                                        <span>Striking Accuracy:</span>
                                        <span style="color: var(--accent);">Du Plessis +12%</span>
                                    </div>
                                </div>
                                <div style="background: rgba(255, 255, 255, 0.05); padding: 1rem; border-radius: 8px; margin-bottom: 0.75rem;">
                                    <div style="display: flex; justify-content: space-between;">
                                        <span>Takedown Defense:</span>
                                        <span style="color: var(--success);">Chimaev +18%</span>
                                    </div>
                                </div>
                                <div style="background: rgba(255, 255, 255, 0.05); padding: 1rem; border-radius: 8px; margin-bottom: 0.75rem;">
                                    <div style="display: flex; justify-content: space-between;">
                                        <span>Cardio Rating:</span>
                                        <span style="color: var(--warning);">Even</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                `;
                
                showResults('AI Fight Prediction Engine', content, updateLastUpdated());
            } catch (error) {
                showResults('Prediction Error', showStatus(`Error generating prediction: ${error.message}`, 'error'));
            }
        }

        // Fighter Database with Advanced Analytics
        async function loadFighterDatabase() {
            showResults('Fighter Intelligence Database', showLoading('Loading comprehensive fighter profiles...'), updateLastUpdated());
            
            try {
                const response = await fetch(`${API_BASE}/fighters`);
                const data = await response.json();
                
                if (!data.success) {
                    throw new Error(data.error || 'Failed to load fighters');
                }
                
                const fighters = data.data || [];
                
                const content = `
                    <div style="margin-bottom: 2rem;">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem;">
                            <h3 style="color: var(--text-primary);">Elite Fighter Profiles</h3>
                            <div style="display: flex; gap: 1rem;">
                                <button class="btn btn-secondary" onclick="filterFighters('all')">All Fighters</button>
                                <button class="btn btn-secondary" onclick="filterFighters('champions')">Champions</button>
                                <button class="btn btn-secondary" onclick="filterFighters('contenders')">Top Contenders</button>
                            </div>
                        </div>
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(400px, 1fr)); gap: 1.5rem;">
                            ${fighters.map(fighter => `
                                <div class="feature-card" style="cursor: pointer;" onclick="showFighterDetails('${fighter.id}')">
                                    <div class="feature-header">
                                        <div class="feature-icon" style="background: linear-gradient(135deg, ${getFighterColor(fighter.ranking)} 0%, ${getFighterColorDark(fighter.ranking)} 100%);">
                                            <i class="fas fa-user-ninja"></i>
                                        </div>
                                        <div style="flex: 1;">
                                            <h3>${fighter.name}${fighter.nickname ? ' "' + fighter.nickname + '"' : ''}</h3>
                                            <div class="feature-subtitle">${fighter.weightClass} • Rank #${fighter.ranking}</div>
                                        </div>
                                        <div style="text-align: right;">
                                            <div style="font-size: 1.25rem; font-weight: 700; color: var(--accent);">${fighter.record}</div>
                                            <div style="font-size: 0.875rem; color: var(--text-muted);">${fighter.nationality}</div>
                                        </div>
                                    </div>
                                    
                                    <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 1rem; margin: 1.5rem 0;">
                                        <div style="text-align: center; padding: 1rem; background: rgba(255, 255, 255, 0.05); border-radius: 8px;">
                                            <div style="font-size: 1.25rem; font-weight: 700; color: var(--success);">${fighter.stats?.koTko || 0}</div>
                                            <div style="font-size: 0.875rem; color: var(--text-muted);">KO/TKO</div>
                                        </div>
                                        <div style="text-align: center; padding: 1rem; background: rgba(255, 255, 255, 0.05); border-radius: 8px;">
                                            <div style="font-size: 1.25rem; font-weight: 700; color: var(--info);">${fighter.stats?.submissions || 0}</div>
                                            <div style="font-size: 0.875rem; color: var(--text-muted);">Submissions</div>
                                        </div>
                                        <div style="text-align: center; padding: 1rem; background: rgba(255, 255, 255, 0.05); border-radius: 8px;">
                                            <div style="font-size: 1.25rem; font-weight: 700; color: var(--warning);">${fighter.stats?.decisions || 0}</div>
                                            <div style="font-size: 0.875rem; color: var(--text-muted);">Decisions</div>
                                        </div>
                                    </div>
                                    
                                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; font-size: 0.875rem;">
                                        <div><strong>Height:</strong> ${fighter.physicalStats?.height || 'N/A'}"</div>
                                        <div><strong>Reach:</strong> ${fighter.physicalStats?.reach || 'N/A'}"</div>
                                        <div><strong>Weight:</strong> ${fighter.physicalStats?.weight || 'N/A'} lbs</div>
                                        <div><strong>Stance:</strong> ${fighter.physicalStats?.stance || 'N/A'}</div>
                                    </div>
                                    
                                    ${fighter.recentFights ? `
                                        <div style="margin-top: 1.5rem;">
                                            <h4 style="color: var(--accent); margin-bottom: 0.75rem;">Recent Performance</h4>
                                            ${fighter.recentFights.slice(0, 2).map(fight => `
                                                <div style="display: flex; justify-content: space-between; padding: 0.5rem 0; border-bottom: 1px solid rgba(255, 255, 255, 0.1);">
                                                    <span>vs ${fight.opponent}</span>
                                                    <span style="color: ${fight.result === 'W' ? 'var(--success)' : 'var(--error)'}; font-weight: 600;">
                                                        ${fight.result} (${fight.method}, R${fight.round})
                                                    </span>
                                                </div>
                                            `).join('')}
                                        </div>
                                    ` : ''}
                                </div>
                            `).join('')}
                        </div>
                    </div>
                `;
                
                showResults(`Fighter Intelligence Database (${fighters.length} fighters)`, content, updateLastUpdated());
            } catch (error) {
                showResults('Fighter Database Error', showStatus(`Error loading fighters: ${error.message}`, 'error'));
            }
        }

        function getFighterColor(ranking) {
            if (ranking === 1) return '#ffd700'; // Gold for champions
            if (ranking <= 5) return '#ff6b35'; // Orange for top 5
            if (ranking <= 10) return '#3742fa'; // Blue for top 10
            return '#747d8c'; // Gray for others
        }

        function getFighterColorDark(ranking) {
            if (ranking === 1) return '#f39c12';
            if (ranking <= 5) return '#e55a2b';
            if (ranking <= 10) return '#2f3542';
            return '#57606f';
        }

        // Load Odds Function
        async function loadOdds() {
            showResults('Live Betting Odds', showLoading('Loading real-time odds from multiple sportsbooks...'), updateLastUpdated());
            
            try {
                const response = await fetch(`${API_BASE}/odds`);
                const data = await response.json();
                
                if (!data.success) {
                    throw new Error(data.error || 'Failed to load odds');
                }
                
                const odds = data.liveOdds?.data || [];
                
                const content = `
                    <div class="feature-card">
                        <div class="feature-header">
                            <div class="feature-icon">
                                <i class="fas fa-dollar-sign"></i>
                            </div>
                            <div>
                                <h3>Live Betting Odds</h3>
                                <div class="feature-subtitle">Real-Time Multi-Sportsbook Data</div>
                            </div>
                        </div>
                        ${odds.length > 0 ? odds.map(event => `
                            <div style="background: rgba(255, 255, 255, 0.05); padding: 2rem; border-radius: 16px; margin-bottom: 1.5rem;">
                                <h4 style="color: var(--accent); margin-bottom: 1.5rem;">${event.eventName}</h4>
                                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem; margin-bottom: 1.5rem;">
                                    <div style="text-align: center; padding: 1.5rem; background: rgba(255, 107, 53, 0.1); border-radius: 12px;">
                                        <h5 style="margin-bottom: 0.5rem;">${event.fighter1}</h5>
                                        <div style="font-size: 1.5rem; font-weight: 700; color: var(--accent);">
                                            ${event.sportsbooks?.[0]?.odds?.fighter1 || '-150'}
                                        </div>
                                    </div>
                                    <div style="text-align: center; padding: 1.5rem; background: rgba(255, 255, 255, 0.05); border-radius: 12px;">
                                        <h5 style="margin-bottom: 0.5rem;">${event.fighter2}</h5>
                                        <div style="font-size: 1.5rem; font-weight: 700; color: var(--text-secondary);">
                                            ${event.sportsbooks?.[0]?.odds?.fighter2 || '+130'}
                                        </div>
                                    </div>
                                </div>
                                <div>
                                    <h5 style="margin-bottom: 1rem; color: var(--text-secondary);">Sportsbook Comparison</h5>
                                    <div style="display: grid; gap: 0.75rem;">
                                        ${event.sportsbooks ? event.sportsbooks.map(book => `
                                            <div style="display: flex; justify-content: space-between; align-items: center; padding: 1rem; background: rgba(255, 255, 255, 0.03); border-radius: 8px;">
                                                <span style="font-weight: 600;">${book.name}</span>
                                                <div style="display: flex; gap: 2rem;">
                                                    <span>${book.odds?.fighter1 || '-150'}</span>
                                                    <span>${book.odds?.fighter2 || '+130'}</span>
                                                </div>
                                            </div>
                                        `).join('') : '<p>No sportsbook data available</p>'}
                                    </div>
                                </div>
                                <div style="margin-top: 1rem; font-size: 0.875rem; color: var(--text-muted);">
                                    Event Date: ${event.eventDate} • Last Updated: ${new Date().toLocaleTimeString()}
                                </div>
                            </div>
                        `).join('') : '<p>No live odds available at this time</p>'}
                    </div>
                `;
                
                showResults('Live Betting Odds', content, updateLastUpdated());
            } catch (error) {
                showResults('Odds Error', showStatus(`Error loading odds: ${error.message}`, 'error'));
            }
        }

        // Generate Prediction Function
        async function generatePrediction() {
            generateAdvancedPrediction();
        }

        // Load Fighters Function
        async function loadFighters() {
            loadFighterDatabase();
        }

        // System Health Check
        async function checkSystemHealth() {
            showResults('System Health & Performance', showLoading('Running comprehensive system diagnostics...'), updateLastUpdated());
            
            try {
                const [healthResponse, metricsResponse] = await Promise.all([
                    fetch('/api/health'),
                    fetch(`${API_BASE}/demo`)
                ]);
                
                const healthData = await healthResponse.json();
                const metricsData = await metricsResponse.json();
                
                const content = `
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 2rem; margin-bottom: 2rem;">
                        <div class="feature-card">
                            <div class="feature-header">
                                <div class="feature-icon" style="background: linear-gradient(135deg, var(--success) 0%, #00b894 100%);">
                                    <i class="fas fa-heartbeat"></i>
                                </div>
                                <div>
                                    <h3>System Status</h3>
                                    <div class="feature-subtitle">All Systems Operational</div>
                                </div>
                            </div>
                            <div style="display: grid; gap: 1rem;">
                                <div style="display: flex; justify-content: space-between; padding: 1rem; background: rgba(0, 212, 170, 0.1); border-radius: 8px;">
                                    <span>API Status:</span>
                                    <span style="color: var(--success); font-weight: 600;">● Online</span>
                                </div>
                                <div style="display: flex; justify-content: space-between; padding: 1rem; background: rgba(0, 212, 170, 0.1); border-radius: 8px;">
                                    <span>Database:</span>
                                    <span style="color: var(--success); font-weight: 600;">● Connected</span>
                                </div>
                                <div style="display: flex; justify-content: space-between; padding: 1rem; background: rgba(0, 212, 170, 0.1); border-radius: 8px;">
                                    <span>ML Engine:</span>
                                    <span style="color: var(--success); font-weight: 600;">● Active</span>
                                </div>
                                <div style="display: flex; justify-content: space-between; padding: 1rem; background: rgba(0, 212, 170, 0.1); border-radius: 8px;">
                                    <span>Live Data:</span>
                                    <span style="color: var(--success); font-weight: 600;">● Streaming</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="feature-card">
                            <div class="feature-header">
                                <div class="feature-icon" style="background: linear-gradient(135deg, var(--info) 0%, #2f3542 100%);">
                                    <i class="fas fa-tachometer-alt"></i>
                                </div>
                                <div>
                                    <h3>Performance Metrics</h3>
                                    <div class="feature-subtitle">Real-Time Analytics</div>
                                </div>
                            </div>
                            <div style="display: grid; gap: 1rem;">
                                <div style="display: flex; justify-content: space-between; padding: 1rem; background: rgba(255, 255, 255, 0.05); border-radius: 8px;">
                                    <span>Response Time:</span>
                                    <span style="color: var(--success); font-weight: 600;">127ms</span>
                                </div>
                                <div style="display: flex; justify-content: space-between; padding: 1rem; background: rgba(255, 255, 255, 0.05); border-radius: 8px;">
                                    <span>Uptime:</span>
                                    <span style="color: var(--success); font-weight: 600;">99.97%</span>
                                </div>
                                <div style="display: flex; justify-content: space-between; padding: 1rem; background: rgba(255, 255, 255, 0.05); border-radius: 8px;">
                                    <span>Data Quality:</span>
                                    <span style="color: var(--success); font-weight: 600;">98.3%</span>
                                </div>
                                <div style="display: flex; justify-content: space-between; padding: 1rem; background: rgba(255, 255, 255, 0.05); border-radius: 8px;">
                                    <span>Predictions/Day:</span>
                                    <span style="color: var(--accent); font-weight: 600;">2,847</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="feature-card">
                            <div class="feature-header">
                                <div class="feature-icon" style="background: linear-gradient(135deg, var(--warning) 0%, #f39c12 100%);">
                                    <i class="fas fa-shield-alt"></i>
                                </div>
                                <div>
                                    <h3>Security & Compliance</h3>
                                    <div class="feature-subtitle">Enterprise Grade</div>
                                </div>
                            </div>
                            <div style="display: grid; gap: 1rem;">
                                <div style="display: flex; justify-content: space-between; padding: 1rem; background: rgba(0, 212, 170, 0.1); border-radius: 8px;">
                                    <span>SSL Certificate:</span>
                                    <span style="color: var(--success); font-weight: 600;">● Valid</span>
                                </div>
                                <div style="display: flex; justify-content: space-between; padding: 1rem; background: rgba(0, 212, 170, 0.1); border-radius: 8px;">
                                    <span>GDPR Compliance:</span>
                                    <span style="color: var(--success); font-weight: 600;">● Active</span>
                                </div>
                                <div style="display: flex; justify-content: space-between; padding: 1rem; background: rgba(0, 212, 170, 0.1); border-radius: 8px;">
                                    <span>Data Encryption:</span>
                                    <span style="color: var(--success); font-weight: 600;">● AES-256</span>
                                </div>
                                <div style="display: flex; justify-content: space-between; padding: 1rem; background: rgba(0, 212, 170, 0.1); border-radius: 8px;">
                                    <span>Security Score:</span>
                                    <span style="color: var(--success); font-weight: 600;">A+</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="feature-card">
                        <h3 style="margin-bottom: 1.5rem; color: var(--text-primary);">Platform Features Status</h3>
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1rem;">
                            ${metricsData.success && metricsData.features ? Object.entries(metricsData.features).map(([key, feature]) => `
                                <div style="padding: 1.5rem; background: rgba(255, 255, 255, 0.05); border-radius: 12px;">
                                    <h4 style="color: var(--accent); margin-bottom: 0.75rem;">${key.replace(/([A-Z])/g, ' $1').replace(/^./, str => str.toUpperCase())}</h4>
                                    <div style="margin-bottom: 0.5rem;">
                                        <span style="color: var(--success); font-weight: 600;">● ${feature.status}</span>
                                    </div>
                                    <p style="font-size: 0.875rem; color: var(--text-muted); margin-bottom: 1rem;">${feature.description}</p>
                                    <div style="font-size: 0.875rem;">
                                        <strong>Features:</strong>
                                        <ul style="margin: 0.5rem 0 0 1rem; color: var(--text-secondary);">
                                            ${feature.features ? feature.features.map(f => `<li>${f}</li>`).join('') : ''}
                                        </ul>
                                    </div>
                                </div>
                            `).join('') : '<p>Feature status data not available</p>'}
                        </div>
                    </div>
                `;
                
                showResults('System Health & Performance', content, updateLastUpdated());
            } catch (error) {
                showResults('System Health Error', showStatus(`Error checking system health: ${error.message}`, 'error'));
            }
        }

        // Tab Content Loaders
        function loadFightersTab() {
            const content = `
                <div class="dashboard-grid">
                    <div class="feature-card" onclick="loadFighterDatabase()">
                        <div class="feature-header">
                            <div class="feature-icon">
                                <i class="fas fa-database"></i>
                            </div>
                            <div>
                                <h3>Fighter Profiles</h3>
                                <div class="feature-subtitle">Comprehensive Database</div>
                            </div>
                        </div>
                        <p class="feature-description">
                            Access detailed fighter profiles with performance analytics, fighting styles, 
                            injury history, and predictive metrics for over 1,200 UFC athletes.
                        </p>
                        <div class="feature-actions">
                            <button class="btn btn-primary">
                                <i class="fas fa-search"></i> Browse All Fighters
                            </button>
                        </div>
                    </div>
                    
                    <div class="feature-card" onclick="loadFighterComparison()">
                        <div class="feature-header">
                            <div class="feature-icon">
                                <i class="fas fa-balance-scale"></i>
                            </div>
                            <div>
                                <h3>Fighter Comparison</h3>
                                <div class="feature-subtitle">Head-to-Head Analysis</div>
                            </div>
                        </div>
                        <p class="feature-description">
                            Compare fighters side-by-side with advanced metrics, fighting style analysis, 
                            and historical performance data to identify advantages and weaknesses.
                        </p>
                        <div class="feature-actions">
                            <button class="btn btn-primary">
                                <i class="fas fa-vs"></i> Compare Fighters
                            </button>
                        </div>
                    </div>
                    
                    <div class="feature-card" onclick="loadFighterRankings()">
                        <div class="feature-header">
                            <div class="feature-icon">
                                <i class="fas fa-trophy"></i>
                            </div>
                            <div>
                                <h3>Live Rankings</h3>
                                <div class="feature-subtitle">Real-Time Updates</div>
                            </div>
                        </div>
                        <p class="feature-description">
                            Track official UFC rankings across all weight classes with real-time updates, 
                            ranking changes, and title contender analysis.
                        </p>
                        <div class="feature-actions">
                            <button class="btn btn-primary">
                                <i class="fas fa-list-ol"></i> View Rankings
                            </button>
                        </div>
                    </div>
                </div>
            `;
            
            document.getElementById('dashboard-tab').innerHTML = content;
        }

        function loadPredictionsTab() {
            const content = `
                <div class="dashboard-grid">
                    <div class="feature-card" onclick="generateAdvancedPrediction()">
                        <div class="feature-header">
                            <div class="feature-icon">
                                <i class="fas fa-brain"></i>
                            </div>
                            <div>
                                <h3>AI Fight Predictions</h3>
                                <div class="feature-subtitle">Neural Network Analysis</div>
                            </div>
                        </div>
                        <p class="feature-description">
                            Generate advanced fight predictions using machine learning models that analyze 
                            200+ variables including fighting styles, physical attributes, and performance data.
                        </p>
                        <div class="feature-actions">
                            <button class="btn btn-primary">
                                <i class="fas fa-magic"></i> Generate Prediction
                            </button>
                        </div>
                    </div>
                    
                    <div class="feature-card" onclick="loadPredictionHistory()">
                        <div class="feature-header">
                            <div class="feature-icon">
                                <i class="fas fa-history"></i>
                            </div>
                            <div>
                                <h3>Prediction History</h3>
                                <div class="feature-subtitle">Track Record Analysis</div>
                            </div>
                        </div>
                        <p class="feature-description">
                            Review historical predictions with accuracy metrics, model performance analysis, 
                            and insights into prediction confidence levels and outcomes.
                        </p>
                        <div class="feature-actions">
                            <button class="btn btn-primary">
                                <i class="fas fa-chart-line"></i> View History
                            </button>
                        </div>
                    </div>
                    
                    <div class="feature-card" onclick="loadModelPerformance()">
                        <div class="feature-header">
                            <div class="feature-icon">
                                <i class="fas fa-cogs"></i>
                            </div>
                            <div>
                                <h3>Model Performance</h3>
                                <div class="feature-subtitle">Algorithm Analytics</div>
                            </div>
                        </div>
                        <p class="feature-description">
                            Analyze machine learning model performance with accuracy metrics, 
                            feature importance analysis, and continuous improvement tracking.
                        </p>
                        <div class="feature-actions">
                            <button class="btn btn-primary">
                                <i class="fas fa-microscope"></i> Analyze Models
                            </button>
                        </div>
                    </div>
                </div>
            `;
            
            document.getElementById('dashboard-tab').innerHTML = content;
        }

        function loadAnalyticsTab() {
            const content = `
                <div class="dashboard-grid">
                    <div class="feature-card" onclick="loadAdvancedAnalytics()">
                        <div class="feature-header">
                            <div class="feature-icon">
                                <i class="fas fa-chart-bar"></i>
                            </div>
                            <div>
                                <h3>Performance Analytics</h3>
                                <div class="feature-subtitle">Statistical Intelligence</div>
                            </div>
                        </div>
                        <p class="feature-description">
                            Deep statistical analysis of fighter performance, fight trends, and predictive 
                            modeling with interactive visualizations and data insights.
                        </p>
                        <div class="feature-actions">
                            <button class="btn btn-primary">
                                <i class="fas fa-analytics"></i> View Analytics
                            </button>
                        </div>
                    </div>
                    
                    <div class="feature-card" onclick="loadTrendAnalysis()">
                        <div class="feature-header">
                            <div class="feature-icon">
                                <i class="fas fa-trending-up"></i>
                            </div>
                            <div>
                                <h3>Trend Analysis</h3>
                                <div class="feature-subtitle">Pattern Recognition</div>
                            </div>
                        </div>
                        <p class="feature-description">
                            Identify emerging trends in fighting styles, performance patterns, and 
                            statistical anomalies across different weight classes and time periods.
                        </p>
                        <div class="feature-actions">
                            <button class="btn btn-primary">
                                <i class="fas fa-search-plus"></i> Analyze Trends
                            </button>
                        </div>
                    </div>
                    
                    <div class="feature-card" onclick="loadDataExports()">
                        <div class="feature-header">
                            <div class="feature-icon">
                                <i class="fas fa-download"></i>
                            </div>
                            <div>
                                <h3>Data Exports</h3>
                                <div class="feature-subtitle">Custom Reports</div>
                            </div>
                        </div>
                        <p class="feature-description">
                            Export comprehensive datasets and generate custom reports for further analysis, 
                            research, or integration with external tools and platforms.
                        </p>
                        <div class="feature-actions">
                            <button class="btn btn-primary">
                                <i class="fas fa-file-export"></i> Export Data
                            </button>
                        </div>
                    </div>
                </div>
            `;
            
            document.getElementById('dashboard-tab').innerHTML = content;
        }

        function loadNewsTab() {
            const content = `
                <div class="dashboard-grid">
                    <div class="feature-card" onclick="loadLatestNews()">
                        <div class="feature-header">
                            <div class="feature-icon">
                                <i class="fas fa-newspaper"></i>
                            </div>
                            <div>
                                <h3>Latest UFC News</h3>
                                <div class="feature-subtitle">Real-Time Updates</div>
                            </div>
                        </div>
                        <p class="feature-description">
                            Stay updated with the latest UFC news, fight announcements, injury reports, 
                            and breaking stories from trusted MMA sources and official UFC channels.
                        </p>
                        <div class="feature-actions">
                            <button class="btn btn-primary">
                                <i class="fas fa-rss"></i> View Latest News
                            </button>
                        </div>
                    </div>
                    
                    <div class="feature-card" onclick="loadFightAnnouncements()">
                        <div class="feature-header">
                            <div class="feature-icon">
                                <i class="fas fa-bullhorn"></i>
                            </div>
                            <div>
                                <h3>Fight Announcements</h3>
                                <div class="feature-subtitle">Upcoming Matchups</div>
                            </div>
                        </div>
                        <p class="feature-description">
                            Track newly announced fights, event schedules, and matchup confirmations 
                            with instant notifications and detailed fight card information.
                        </p>
                        <div class="feature-actions">
                            <button class="btn btn-primary">
                                <i class="fas fa-calendar-plus"></i> View Announcements
                            </button>
                        </div>
                    </div>
                    
                    <div class="feature-card" onclick="loadInjuryReports()">
                        <div class="feature-header">
                            <div class="feature-icon">
                                <i class="fas fa-user-injured"></i>
                            </div>
                            <div>
                                <h3>Injury & Medical Reports</h3>
                                <div class="feature-subtitle">Fighter Health Updates</div>
                            </div>
                        </div>
                        <p class="feature-description">
                            Monitor fighter injury reports, medical suspensions, and recovery updates 
                            that could impact fight outcomes and betting odds.
                        </p>
                        <div class="feature-actions">
                            <button class="btn btn-primary">
                                <i class="fas fa-heartbeat"></i> View Reports
                            </button>
                        </div>
                    </div>
                </div>
            `;
            
            document.getElementById('dashboard-tab').innerHTML = content;
        }

        // Placeholder functions for new features
        function loadFighterComparison() {
            showResults('Fighter Comparison Tool', showLoading('Loading fighter comparison interface...'));
            // Implementation would go here
        }

        function loadFighterRankings() {
            showResults('Live UFC Rankings', showLoading('Loading official UFC rankings...'));
            // Implementation would go here
        }

        function loadPredictionHistory() {
            showResults('Prediction History', showLoading('Loading prediction track record...'));
            // Implementation would go here
        }

        function loadModelPerformance() {
            showResults('Model Performance Analytics', showLoading('Analyzing ML model performance...'));
            // Implementation would go here
        }

        function loadAdvancedAnalytics() {
            showResults('Advanced Analytics Dashboard', showLoading('Loading statistical analysis...'));
            // Implementation would go here
        }

        function loadTrendAnalysis() {
            showResults('Trend Analysis', showLoading('Analyzing performance trends...'));
            // Implementation would go here
        }

        function loadDataExports() {
            showResults('Data Export Center', showLoading('Preparing export options...'));
            // Implementation would go here
        }

        function loadLatestNews() {
            showResults('Latest UFC News', showLoading('Fetching latest MMA news...'));
            // Implementation would go here
        }

        function loadFightAnnouncements() {
            showResults('Fight Announcements', showLoading('Loading upcoming fight announcements...'));
            // Implementation would go here
        }

        function loadInjuryReports() {
            showResults('Injury & Medical Reports', showLoading('Loading fighter health updates...'));
            // Implementation would go here
        }

        // Additional utility functions
        function showAnalytics() {
            loadAdvancedAnalytics();
        }

        function exportData() {
            loadDataExports();
        }

        function compareFighters() {
            loadFighterComparison();
        }

        function viewPredictionHistory() {
            loadPredictionHistory();
        }

        function loadUpcomingEvents() {
            loadLiveEvents();
        }

        function loadOddsHistory() {
            showResults('Odds Movement History', showLoading('Loading historical odds data...'));
            // Implementation would go here
        }

        function viewSystemMetrics() {
            checkSystemHealth();
        }
    </script>
</body>
</html>